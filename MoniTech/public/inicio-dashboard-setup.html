<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/css/template.css"/>
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="./css/dashboard-setups.css" />
  <link rel="stylesheet" href="./css/card-setup.css" />
  <base href="/">
  <title>Dashboard</title>
</head>

<body onload="validarSessao()">
  <div class="box-shadow box-shadow-top"></div>
  <div class="box-shadow box-shadow-left"></div>
  <div class="header">
    <div class="perfil">
      <div class="container">
        <img src="./assets/perfil.jpg" class="foto-perfil"></img>
        <div class="info-perfil">
          <p class="nome-perfil" id="nomePerfil">{%NOMEUSUARIO%}</p>
          <p class="cargo-perfil" id="cargoPerfil">{%CARGOUSUARIO%}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="menu">
    <header>
      <div class="container">
        <img src="./assets/logo-header.svg" alt="" class="menu-logo">
      </div>
    </header>
    <div class="nav-bar">
      <div class="container">
        <a href="./inicio-bemvindo.html">
          <div class="link-container bem-vindo">
            <div class="link-header">
              <img src="./assets/icons/icons8-home-144 1.svg" class="icon-link"></img>
              <p class="title-link">Bem vindo!</p>
            </div>
          </div>
        </a>
        <div class="link-container dashboard" value="false">
          <div class="link-header">
            <img src="./assets/icons/speedometer-svgrepo-com 1.svg" class="icon-link click-dashboard"></img>
            <p class="title-link click-dashboard">Dashboard</p>
            <img src="./assets/icons/Polygon 2.svg" class="drop-down click-dashboard"></img>
          </div>
          <ul>
            <a href="./inicio-dashboard-setup.html">
              <li>Setups</li>
            </a>
            <a href="" style="display: none">
              <li>Inventário</li>
            </a>
          </ul>
        </div>
        <div class="link-container times">
          <div class="link-header">
            <img src="./assets/icons/team-svgrepo-com 1.svg" class="icon-link"></img>
            <p class="title-link">Times</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="sec-1">
        <h1>Setups</h1>
    </div>
    <div class="sec-2">
        <div class="list-setup">
            <div class="list" id="list">
                
            </div>
        </div>
        <div class="info-setup">
            <div class="info">
                <h2 id="hostname">{%NOMEDONO%}</h2>
                <p id="equipe">{%NOMEEQUIPE%}</p>
                <div class="etiqueta" id="etiqueta"></div>
            </div>

            <div class="content-setup">
                <div class="aba-1 aba">
                    <img src="./assets/icons/Vector.svg" alt="" />
                </div>
                <div class="aba-2 aba">
                    <img
                        src="./assets/icons/container-software-svgrepo-com (1) 1.svg"
                        alt=""
                    />
                </div>
                <div class="content-sec-1">
                    <div class="content-info-setup">
                        <p id="processador">{%PROCESSADOR%}</p>
                        <p id="ram">Memória RAM: {%RAM%}</p>
                        <p id="storage">Storage: {%STOR%}</p>
                    </div>
                    <div class="content-ram">
                        <p>Consumo memória:</p>
                        <div class="total-ram">
                            <div class="qtd-ram"></div>
                        </div>
                    </div>
                    <div class="content-storage">
                        <p>Espaço consumido do disco:</p>
                        <div class="porcent-storage">
                            <span id="storage-number">35%</span>
                        </div>
                        <canvas
                            id="chart-storage-doughnut"
                            width="120"
                            height="120"
                        ></canvas>
                    </div>
                </div>
                <div class="content-sec-2">
                    <div class="chart-bars">
                        <canvas
                            id="chartCPU"
                            width="420"
                            height="150"
                        ></canvas>
                    </div>
                    <div class="chart-bars">
                        <canvas
                            id="chartRAM"
                            width="420"
                            height="150"
                        ></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>
</body>

</html>
<script src="./js/events.js"></script>
<script src="./js/funções.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="./js/charts.js"></script>
<script>
    fetch(`./setups/listar`).then(function(resposta){
        if (resposta.ok) {
            resposta.json().then(json=>{
                if(json.length > 0) {
                    json.forEach(setup => {
                        document.getElementById('list').appendChild(createSetup(setup))
                    });
                } 
            })
        }
    })
</script>
